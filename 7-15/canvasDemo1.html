<!DOCTYPE html>
<html>
<meta charset="utf-8">
<title>canvas变换矩形</title>
<body>
  <canvas id="myCanvas" width="500" height="500"></canvas>
  <script src="../source/jquery.js"></script>
  <script>
    var canvas = $("#myCanvas");
    var context = canvas.get(0).getContext("2d");

    context.save();
    context.setTransform(1,0,0,1,0,0);
    var xScale = Math.cos(0.7854);
    var ySkew = -Math.sin(0.7854);
    var xSkew = Math.sin(0.7854);
    var yScale = Math.cos(0.7854);
    var xTrans = 200;
    var yTrans = 200;
    context.transform(xScale,ySkew,xSkew,yScale,xTrans,yTrans);
    context.fillRect(-50,-50,100,100);
    context.restore();
    context.save();
    context.fillStyle="rgb(0,255,0)";
    context.fillRect(50,50,100,100);
    context.restore();
    context.fillRect(200,200,100,100);
    context.save();
    context.translate(150,150);
    context.fillStyle = "rgb(255,0,0)";
    context.fillRect(300,300,50,50);
    context.restore();
    context.beginPath();
    context.moveTo(0,0);
    context.lineTo(500,500);
    context.closePath();
    context.stroke();
  </script>
</body>
</html>
